{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["export const ref = {\n    loader: document.querySelector('.loader'),\n    searchBtn: document.querySelector('.search-btn'),\n}\n\n\n\nexport  function showLoader(state = true) {\n    ref.loader.style.display = !state ? 'none' : 'inline-block';\n    ref.searchBtn.disabled = state;\n  }\n  \n \n \n export const BASE_URL = 'https://pixabay.com/api/';\n export const API_KEY = '41899926-74a7536d4d492e936dbb67b5b';\n\n \n\nexport function fetchImages(url) {\n    showLoader(true);\n    return fetch(url).then(resp => {\n      if (!resp.ok) {\n        throw new Error(resp.ststusText);\n      }\n      return resp.json();\n    });\n  }\n  ","export function createMarkup(hits) {\n    return hits\n      .map(\n        ({\n          webformatURL,\n          largeImageURL,\n          tags,\n          likes,\n          views,\n          comments,\n          downloads,\n        }) =>\n          `\n          <li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${largeImageURL}\">\n      <img\n        class=\"gallery-image\"\n        src=\"${webformatURL}\"\n        alt=\"${tags}\"\n      />\n      <p class=\"gallery-descr\">Likes: <span class=\"descr-span\">${likes}</span> Views: <span class=\"descr-span\">${views}</span> Comments: <span class=\"descr-span\">${comments}</span> Downloads: <span class=\"descr-span\">${downloads}</span></p>\n    </a>\n  </li>`\n      )\n      .join('');\n  }","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport {ref, showLoader, BASE_URL, API_KEY, fetchImages} from './js/pixabay-api.js'\nimport {createMarkup} from './js/render-function.js'\n\nconst simplyGallery = new SimpleLightbox('.gallery-item a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nconst refs = {\n  form: document.querySelector('.search-form'),\n  input: document.querySelector('.search-inp'),\n  gallery: document.querySelector('.gallery'),\n};\n\n\n\nrefs.form.addEventListener('submit', event => {\n  event.preventDefault();\n  const query = refs.form.query.value.trim();\n  refs.gallery.innerHTML=''\n\n  if (!query) {\n    createMessage(\n      `The search field can't be empty! Please, enter your request!`\n    );\n    return;\n  }\n  const url = `${BASE_URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  fetchImages(url)\n    .then(data => {\n      if (data.hits.length === 0) {\n        createMessage(\n          `Sorry, there are no images matching your search query. Please, try again!`\n        );\n        showLoader(false);\n      }\n\n      refs.gallery.innerHTML = createMarkup(data.hits);\n      showLoader(false);\n      simplyGallery.refresh();\n    \n      refs.form.reset();\n    })\n    .catch(error => console.error(error));\n});\n\n\n\n\nfunction createMessage(message) {\n  iziToast.show({\n    class: 'error-svg',\n    position: 'topRight',\n    icon: 'error-svg',\n    message: message,\n    maxWidth: '432',\n    messageColor: '#fff',\n    messageSize: '16px',\n    backgroundColor: '#EF4040',\n    close: false,\n    closeOnClick: true,\n  });\n}\n\n"],"names":["ref","showLoader","state","BASE_URL","API_KEY","fetchImages","url","resp","createMarkup","hits","webformatURL","largeImageURL","tags","likes","views","comments","downloads","simplyGallery","SimpleLightbox","refs","event","query","createMessage","data","error","message","iziToast"],"mappings":"6vBAAO,MAAMA,EAAM,CACf,OAAQ,SAAS,cAAc,SAAS,EACxC,UAAW,SAAS,cAAc,aAAa,CACnD,EAIQ,SAASC,EAAWC,EAAQ,GAAM,CACtCF,EAAI,OAAO,MAAM,QAAWE,EAAiB,eAAT,OACpCF,EAAI,UAAU,SAAWE,CAC1B,CAIK,MAAMC,EAAW,2BACXC,EAAU,qCAIjB,SAASC,EAAYC,EAAK,CAC7B,OAAAL,EAAW,EAAI,EACR,MAAMK,CAAG,EAAE,KAAKC,GAAQ,CAC7B,GAAI,CAACA,EAAK,GACR,MAAM,IAAI,MAAMA,EAAK,UAAU,EAEjC,OAAOA,EAAK,MAClB,CAAK,CACL,CC3BO,SAASC,EAAaC,EAAM,CAC/B,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA;AAAA,oCAE0BL;AAAA;AAAA;AAAA,eAGrBD;AAAA,eACAE;AAAA;AAAA,iEAEkDC,4CAAgDC,+CAAmDC,gDAAuDC;AAAA;AAAA,QAGpN,EACA,KAAK,EAAE,CACd,CCjBA,MAAMC,EAAgB,IAAIC,EAAe,kBAAmB,CAC1D,aAAc,MACd,aAAc,GAChB,CAAC,EAEKC,EAAO,CACX,KAAM,SAAS,cAAc,cAAc,EAC3C,MAAO,SAAS,cAAc,aAAa,EAC3C,QAAS,SAAS,cAAc,UAAU,CAC5C,EAIAA,EAAK,KAAK,iBAAiB,SAAUC,GAAS,CAC5CA,EAAM,eAAc,EACpB,MAAMC,EAAQF,EAAK,KAAK,MAAM,MAAM,OAGpC,GAFAA,EAAK,QAAQ,UAAU,GAEnB,CAACE,EAAO,CACVC,EACE,8DACN,EACI,MACD,CACD,MAAMhB,EAAM,GAAGH,SAAgBC,OAAaiB,4DAE5ChB,EAAYC,CAAG,EACZ,KAAKiB,GAAQ,CACRA,EAAK,KAAK,SAAW,IACvBD,EACE,2EACV,EACQrB,EAAW,EAAK,GAGlBkB,EAAK,QAAQ,UAAYX,EAAae,EAAK,IAAI,EAC/CtB,EAAW,EAAK,EAChBgB,EAAc,QAAO,EAErBE,EAAK,KAAK,OAChB,CAAK,EACA,MAAMK,GAAS,QAAQ,MAAMA,CAAK,CAAC,CACxC,CAAC,EAKD,SAASF,EAAcG,EAAS,CAC9BC,EAAS,KAAK,CACZ,MAAO,YACP,SAAU,WACV,KAAM,YACN,QAASD,EACT,SAAU,MACV,aAAc,OACd,YAAa,OACb,gBAAiB,UACjB,MAAO,GACP,aAAc,EAClB,CAAG,CACH"}